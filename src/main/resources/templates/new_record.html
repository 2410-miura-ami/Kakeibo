<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <meta charset="UTF-8">
    <link th:href="@{/css/style.css}" rel="styleSheet">
    <script th:src="@{/js/script.js}"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="header-contents">
    <h2 class="text-center my-3">新規記録</h2>
</div>

<div class="main-contents mx-auto">

    <div class="alert alert-danger" th:each="errorMessage : ${errorMessages}">
        <p th:text="${errorMessage}"></p>
    </div>
    <form th:method="put" th:action="@{/newRecord}" th:object="${record}" class="text-center" >
        <script th:inline="javascript">
            const bopName = /*[[${record.bopName}]]*/ 'bop';
            const bigCategoryName = /*[[${record.bigCategoryName}]]*/ 'bigCategoryName';
            const smallCategoryId = /*[[${record.smallCategoryId}]]*/ 'smallCategoryId';
        </script>
    <div class="input-block">
        <div class="select-block">
            <label>日付:
                <input type="date" th:field="*{date}">
            </label>
        </div>
        <div class="select-block">
            <label>収支：
                <select id="category-select-3" th:field="*{bopName}">
                    <option value="選択してください">選択してください</option>
                </select>
            </label>
        </div>
        <div class="select-block">
            <label>大カテゴリー：
                <select id="sub-category-select-3" th:field="*{bigCategoryName}" disabled>
                    <option value="選択してください">選択してください</option>
                </select>
            </label>
        </div>
        <div class="select-block" >
            <label>小カテゴリー：
                <select id="product-select" th:field="*{smallCategoryId}" disabled>
                    <option value="0">選択してください</option>
                </select>
            </label>
        </div>
        <div class="select-block">
            <label>金額：
                <input type="number" step="1" min="0" th:field="*{amount}" required>
            </label>
        </div>
        <div class="select-block">
            <label>メモ：
                <input type="text" max="50" th:field="*{memo}">
            </label>
        </div>
    </div>
        <input type="submit" value="追加" class="btn btn-primary update-button" />
    </form>

    <div class="footer-contents">
        <form th:action="@{/}">
            <input type="submit" value="戻る" class="btn btn-secondary btn-sm" />
        </form>
    </div>

</div>
</body>
<script th:src="@{/js/select.js}"></script>
</html>